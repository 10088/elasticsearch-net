[[missing-aggregation]]
== Missing aggregation

A field data based single bucket aggregation, that creates a bucket of all documents in the 
current document set context that are missing a field value (effectively, missing a field or having the configured NULL value set).

[float]
=== Fluent DSL

[source,csharp]
----
var result = client.Search<ElasticsearchProject>(s => s
    .Aggregations(a => a
        .Missing("my_missing_agg", m => m
            .Field(p => p.Name)
        )
    )
);

var agg = result.Aggs.Missing("my_missing_agg");
----

[float]
=== Object Initializer Syntax

[source,csharp]
----
var request = new SearchRequest
{
    Aggregations = new Dictionary<string, IAggregationContainer>
    {
        { "my_missing_agg", new AggregationContainer
            {
                Missing = new MissingAggregator
                {
                    Field = "name"
                }
            }
        }
    }
};

var result = client.Search<ElasticsearchProject>(request);

var agg = result.Aggs.Missing("my_missing_agg");
----

Refer to the {ref_current}/search-aggregations-bucket-missing-aggregation.html[original docs] for more information

